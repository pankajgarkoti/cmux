{"id":"2c9cbc2c-32fc-4d4a-b223-8b292da8cec1","ts":"2026-02-21T07:59:07+05:30","from":"cmux:worker-heartbeat-ui","to":"cmux:supervisor","subject":"[DONE] [DONE] Heartbeat display for frontend dashboard — all 3 parts complete. (1) src/server/routes/heartbeat.py: POST/GET endpoints, stores latest in memory, broadcasts heartbeat_update via WebSocket. Mounted at /api/heartbeat. (2) monitor.sh: After autonomy-check runs, parses --summary into JSON sections dict and POSTs to /api/heartbeat (2s timeout, best-effort). (3) Frontend: HeartbeatIndicator.tsx in Header — pulsing dot (green=clear, yellow=items, red=health), click expands shadcn dropdown with scan sections + highest priority + live 'Last scan: Xs ago'. Zustand store + useWebSocket handler. Verified with: npm run typecheck (pass), npm run build (pass), curl POST/GET (pass), Chrome MCP browser testing (pass). Evidence: .cmux/journal/2026-02-21/attachments/heartbeat-indicator-dropdown.png, heartbeat-indicator-sections.png. Files created: src/server/routes/heartbeat.py, src/frontend/src/stores/heartbeatStore.ts, src/frontend/src/components/status/HeartbeatIndicator.tsx. Files modified: src/server/main.py, src/orchestrator/monitor.sh, src/frontend/src/hooks/useWebSocket.ts, src/frontend/src/components/layout/Header.tsx.","status":"submitted"}
